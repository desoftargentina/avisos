<div class="d-flex flex-column">
  <h2 class="text-center d-flex title-holder mb-0" #titleHolder>
    <div class="mx-auto d-flex position-relative w-100">
      &#8203;
      <div class="position-absolute w-100" #titleRef>
        <b>{{ title }}</b>
      </div>
    </div>
  </h2>
  <div class="d-flex mx-3">
    <div class="d-flex">
      <h2 class="mat-color-primary-dark my-auto">
        <b>$ {{ price }}</b>
      </h2>
      <mat-divider vertical class="mx-2 my-1"></mat-divider>
      <h3 class="mat-color-foreground-disabled my-auto">{{ currency }}</h3>
    </div>
    <div class="col"></div>
    <locator [gps]="gps" class="mr-2"></locator>
  </div>
  <div class="d-flex">
    <div style="flex-basis:10%"></div>
    <div class="rounded overflow-hidden mt-5 mx-2 m-border mat-color-foreground-disabled" style="flex-grow:1">
      <div class="d-flex flex-column mat-color-foreground">
        <div class="d-flex rounded py-3">
          <h3 class="mx-auto my-0 mat-color-primary-900"><b>Contactar al anunciante</b></h3>
        </div>
        <form class="px-5 d-flex flex-column text-center">
          <mat-form-field class="mt-3" floatLabel="never">
            <input matInput placeholder="Nombre" />
          </mat-form-field>
          <mat-form-field class="mt-1" floatLabel="never">
            <input matInput placeholder="Correo" />
          </mat-form-field>
          <mat-form-field class="mt-1" floatLabel="never">
            <input matInput placeholder="Celular" />
          </mat-form-field>
          <mat-form-field class="mt-1" floatLabel="never">
            <textarea
              matInput
              mat-autosize
              matAutosizeMinRows="5"
              matAutosizeMaxRows="8"
              placeholder="Mensaje"
              class="py-0"
            ></textarea>
          </mat-form-field>
          <mat-checkbox color="primary" disableRipple class="mt-2">Enviarme una copia de este mensaje</mat-checkbox>
          <button mat-button type="submit" class="btn-bordered text-uppercase mt-2">Enviar Mensaje</button>
          <div class="mb-4"></div>
        </form>
      </div>
    </div>
    <div class="d-flex flex-column mt-5 px-3 mr-3 mb-4" style="flex-basis:25%">
      <mat-chip-list class="mb-4">
        <mat-chip class="mx-auto" matTooltip="Número de visitas" disableRipple>
          <avisos-icon icon="eye" size="lg" class="pr-2"></avisos-icon>
          {{ views }}
        </mat-chip>
        <mat-chip
          class="mx-auto"
          matTooltip="Días restantes"
          [ngClass]="daysLeft < 8 && 'mat-bg-warn-300'"
          disableRipple
        >
          <avisos-icon icon="sun" size="lg" class="pr-2"></avisos-icon>
          {{ daysLeft }}
        </mat-chip>
      </mat-chip-list>
      <mat-chip-list class="p-0">
        <div class="d-flex flex-column mx-auto">
          <tagger *ngFor="let tag of tags" [tag]="tag" class="d-flex" [ngClass]="tag.type === 3 && 'fix-icon'"></tagger>
        </div>
      </mat-chip-list>
      <div class="col"></div>
      <div class="px-2 d-flex flex-column">
        <user-preview [user]="seller" class="mb-3" expandable direction="left" height="140"></user-preview>
        <div *ngIf="sellerPhone; else viewTel">{{ sellerACode }} - {{ sellerPhone }}</div>
        <ng-template #viewTel>
          <button mat-flat-button color="accent" class="mat-bg-accent-600">
            <div class="d-flex">
              <div class="my-auto">Ver Teléfono</div>
              <div class="col p-0"></div>
              <avisos-icon icon="phone" class="my-auto" style="font-size:1.25em; line-height:2.2em"></avisos-icon>
            </div>
          </button>
        </ng-template>
      </div>
    </div>
  </div>
</div>
